{{- $s := .Stats -}}
{{- $firstDay := index $s.Days 0 -}}
---
type: note
tags:
  - fitness/whoop
  - weekly-health
created: {{$s.WeekStart}}
---

# WHOOP Weekly Summary ‚Äî {{$s.WeekStart}} ‚Üí {{$s.WeekEnd}}

[[Health/WHOOP/{{prevWeekYear $firstDay.Date}}/weekly-{{prevWeek $firstDay.Date}}|‚Üê Prev Week]] | [[Health/WHOOP/{{nextWeekYear $firstDay.Date}}/weekly-{{nextWeek $firstDay.Date}}|Next Week ‚Üí]]

---

## Aggregate Stats

| Metric | Value |
|--------|-------|
| Avg Recovery | **{{printf "%.0f" $s.AvgRecovery}}%** |
| Avg HRV | {{printf "%.1f" $s.AvgHRV}} ms |
| Avg RHR | {{printf "%.0f" $s.AvgRHR}} bpm |
| Avg Strain | {{printf "%.1f" $s.AvgStrain}} |
| Avg Sleep | {{millisToMinutes $s.AvgSleepMillis}} |
| Total Workouts | {{$s.TotalWorkouts}} |

---

## Recovery Distribution

| Color | Days |
|-------|------|
| üü¢ Green (67‚Äì100%) | {{$s.GreenDays}} |
| üü° Yellow (34‚Äì66%) | {{$s.YellowDays}} |
| üî¥ Red (0‚Äì33%) | {{$s.RedDays}} |

---

## Daily Breakdown

| Date | Recovery | HRV | Strain | Sleep |
|------|----------|-----|--------|-------|
{{range $s.Days}}| [[Health/WHOOP/{{.Date.Format "2006"}}/daily-{{.Date.Format "2006-01-02"}}|{{.Date.Format "Mon Jan 02"}}]] | {{if .Recovery}}{{printf "%.0f" .Recovery.Score.RecoveryScore}}% ({{recoveryColor .Recovery.Score.RecoveryScore}}){{else}}‚Äî{{end}} | {{if .Recovery}}{{printf "%.1f" .Recovery.Score.HrvRmssdMilli}} ms{{else}}‚Äî{{end}} | {{if .Cycle}}{{printf "%.1f" .Cycle.Score.Strain}}{{else}}‚Äî{{end}} | {{with primarySleep .Sleeps}}{{millisToMinutes .Score.StageSummary.TotalInBedTimeMilli}}{{else}}‚Äî{{end}} |
{{end}}

---

## Workouts This Week

{{- $hasWorkouts := false -}}
{{- range $s.Days}}{{if .Workouts}}{{$hasWorkouts = true}}{{end}}{{end}}
{{if $hasWorkouts}}
| Date | Activity | Strain | Avg HR | Calories |
|------|----------|--------|--------|----------|
{{- range $s.Days -}}
{{- $day := . -}}
{{- range .Workouts}}
| [[Health/WHOOP/{{$day.Date.Format "2006"}}/daily-{{$day.Date.Format "2006-01-02"}}|{{$day.Date.Format "Mon Jan 02"}}]] | {{if .SportName}}{{.SportName}}{{else}}{{sportName .SportID}}{{end}} | {{printf "%.1f" .Score.Strain}} | {{.Score.AverageHeartRate}} bpm | {{printf "%.0f" .Score.Kilojoule}} kJ |
{{- end -}}
{{- end}}
{{else}}
*No workouts recorded this week.*
{{end}}

---

## Highlights

{{if $s.BestDay}}
**Best Recovery Day:** {{$s.BestDay.Date.Format "Monday, Jan 02"}}
{{if $s.BestDay.Recovery}}- Score: {{printf "%.0f" $s.BestDay.Recovery.Score.RecoveryScore}}% | HRV: {{printf "%.1f" $s.BestDay.Recovery.Score.HrvRmssdMilli}} ms | RHR: {{printf "%.0f" $s.BestDay.Recovery.Score.RestingHeartRate}} bpm{{end}}
{{end}}

{{if $s.WorstDay}}
**Worst Recovery Day:** {{$s.WorstDay.Date.Format "Monday, Jan 02"}}
{{if $s.WorstDay.Recovery}}- Score: {{printf "%.0f" $s.WorstDay.Recovery.Score.RecoveryScore}}% | HRV: {{printf "%.1f" $s.WorstDay.Recovery.Score.HrvRmssdMilli}} ms | RHR: {{printf "%.0f" $s.WorstDay.Recovery.Score.RestingHeartRate}} bpm{{end}}
{{end}}

---

[[Health/WHOOP/{{prevWeekYear $firstDay.Date}}/weekly-{{prevWeek $firstDay.Date}}|‚Üê Prev Week]] | [[Health/WHOOP/{{nextWeekYear $firstDay.Date}}/weekly-{{nextWeek $firstDay.Date}}|Next Week ‚Üí]]

*Generated by whoop-garden*
